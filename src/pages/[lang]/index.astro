---
/**
 * ═══════════════════════════════════════════════════════════
 * LYRIX OS — LANDING PAGE (i18n)
 * Dark Mode Operating System Aesthetic
 * Route: /es/ (English served at root /)
 * ═══════════════════════════════════════════════════════════
 */

import { getLangFromUrl } from '../../i18n/utils';
import type { Lang } from '../../i18n/ui';
import Layout from '../../layouts/main.astro';
import Hero from '../../components/Hero.astro';
import Navigation from '../../components/Navigation';
import TrustedBy from '../../components/TrustedBy';
import Services from '../../components/sections/Services.astro';
import Portfolio from '../../components/sections/Portfolio.astro';
import Process from '../../components/sections/Process.astro';
import Reviews from '../../components/sections/Reviews.astro';
import FAQ from '../../components/sections/FAQ.astro';
import CTA from '../../components/sections/CTA.astro';
import CinematicTeaser from '../../components/CinematicTeaser';
import Pricing from '../../components/Pricing';
import Blog from '../../components/sections/Blog.astro';
import OnboardingHints from '../../components/OnboardingHints';
import ConsentBanner from '../../components/ConsentBanner';

export function getStaticPaths() {
  // Only Spanish gets a /es/ prefix route.
  // English is served at the root (/) via src/pages/index.astro.
  return [
    { params: { lang: 'es' } },
  ];
}

const lang = getLangFromUrl(Astro.url) as Lang;

const keywords = lang === 'es'
  ? 'diseño web puerto rico, desarrollo web PR, agencia digital puerto rico, creación de páginas web, web design san juan, producción video PR, SEO puerto rico, marketing digital PR'
  : 'web design puerto rico, web development PR, digital agency puerto rico, website creation, web design san juan, video production PR, SEO puerto rico, digital marketing PR';
---

<Layout lang={lang} keywords={keywords}>
	<Navigation lang={lang} client:idle />
	<!-- Banner landmark (implicit role="banner" as direct child of <body>) -->
	<Hero lang={lang} />

	<main id="main-content" class="flex flex-col gap-4 md:gap-8">
		<TrustedBy lang={lang} client:visible />
		<Portfolio lang={lang}/>
		<Services lang={lang}/>
		<Reviews lang={lang}/>
		<CinematicTeaser lang={lang} client:visible />
		<Process lang={lang}/>
		<Pricing lang={lang} client:visible />
		<Blog lang={lang} />
		<FAQ lang={lang}/>
		<CTA lang={lang}/>
	</main>
	<OnboardingHints lang={lang} client:only="react" />
	<ConsentBanner lang={lang} client:only="react" />
</Layout>
